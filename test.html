<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    login file 
    
</body>
</html>


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        .rem_div{
           animation-name:myanimation;
           animation-duration: 1s;
        }
        @keyframes myanimation {
            0% {opacity: 1;}
            100% {opacity: 0;}
        }
        div{
            background-color: red;
        }
    </style>
</head>
<body>

    <div id="my_div" style=" height: 20vh;">
        This div is special
    </div>

    <button id="my_click" class="my_class">Click here</button>
    
<script>
    var ele = document.getElementById("my_click");
    var my_div = document.getElementById("my_div");
    ele.addEventListener("click",()=>{
        // my_div.remove();
        my_div.classList.add("rem_div");
        setTimeout(function(){ my_div.remove(); }, 1000);
        
    })
</script>
</body>
</html>

//    //adding profile photo
        if($request->hasfile("faculty_photo")){
          $profile_img = $request->faculty_photo;
          $imgName = time().".".$profile_img->getClientOriginalName();
          $profile_img->move("resources/assets/images/faculty/",$imgName);
          $upload = "resources/assets/images/faculty/".$imgName;
          print_r($upload);
          $fac_add_obj->profile_photo = $upload;
        }
     //    // adding profile photo

    <form runat="server">
        <input accept="image/*" type='file' id="imgInp" />
        <img id="blah" src="#" alt="your image" style="width: 50%;"/>
      </form>
    
<script>
   
    imgInp.onchange = evt => {
  const [file] = imgInp.files
  console.log(file);
  if (file) {
    blah.src = URL.createObjectURL(file)

  }
}

my_del.onclick = ()=>{
    // console.log("no work");
    blah.src = "";
}

// laravel mail 

 public function sendmail(Request $request){
        // dd($request);
        // dd($request->email);
        $viewdata['fname'] = $request->fname;
        $viewdata['lname'] = $request->lname;
        $viewdata['email'] = $request->email;

        Mail::send('emailpage', $viewdata, function($m) use($request)
        {
            $m->from('ramankumar@gmail.com', env('APP_NAME'));
            $m->to($request->email)->subject($request->fname)->attach(public_path('pdf/pgi.pdf'),
                    ['as'=>'sample.pdf',
                    'mime'=>'application/pdf']
            );
            // $m->to([$request->email,'varunkumar11uee058@gmail.com'])->subject($request->fname);
        });
    }

//     mouse out from window event
      <div id="pop"  style="width: 200px; height: 200px; background-color: green; margin: auto; display: none;">
       <span class="rot" id="cross_val"> + </span>
    </div>
 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
     crossorigin="anonymous" referrerpolicy="no-referrer"></script>   

<script>
    $(document).mouseleave(function () {
    console.log('out');
    $("#pop").show();  
});

$("#cross_val").click(()=>{
    $("#pop").remove();
});
</script>

<?php 

// $time1 = new DateTime('09:00:59');
// $time2 = new DateTime('09:01:00');
// $interval = $time1->diff($time2);
// echo $interval->format('%s second(s)');

$servername = "localhost";
$username = "root";
$password = "";
$dbname = "posty";

// Create connection
$conn = new mysqli($servername, $username, $password, $dbname);
// Check connection
if ($conn->connect_error) {
  die("Connection failed: " . $conn->connect_error);
}

$sql = "SELECT created_at FROM POSTS";
$result = $conn->query($sql);

// die($result);
// print_r($result[0]['created_at']);
// die();

if ($result->num_rows > 0) {
  // output data of each row
  while($row = $result->fetch_assoc()) {
  	echo "<pre";
  	print_r($row);
    // echo . "<br>";
    $date = new DateTime();
	// $date = DateTime::format();
	// echo "<pre>";
	$exactdate = $date->format('Y-m-d H:i:s');
	$time1 = new DateTime($row['created_at']);
	$time2 = new DateTime($exactdate);
	$timediff = $time1->diff($time2);
// echo "<pre>";
// print_r($timediff);
	echo "<hr>";
if($timediff->y != 0){
	echo $timediff->format('%y year')."<br/>";
}
else if($timediff->m != 0){
	echo $timediff->format('%m month')."<br>";	
}
else if($timediff->d != 0){
	echo $timediff->format('%d days')."<br/>";
}
else if($timediff->h != 0){
	echo $timediff->format('%h hour')."<br/>";
}
else if($timediff->i != 0){
	echo $timediff->format('%i minute')."<br/>";
}

// echo "one";






  }
} else {
  echo "0 results";
}
$conn->close();

die();

// echo "<br>";
// $x = $date->date;
// $x = strtok($x, '.');
// echo $x;
// $str = substr($str, 0, strpos($str, '.'));




// 2021-10-24 12:57:09


print_r($timediff->y);
echo "<hr>";
if($timediff->y != 0){
	echo $timediff->format('%y year')."<br/>";
}
else if($timediff->m != 0){
	echo $timediff->format('%m month')."<br>";	
}
else if($timediff->d != 0){
	echo $timediff->format('%d days')."<br/>";
}
else if($timediff->h != 0){
	echo $timediff->format('%h hour')."<br/>";
}
else if($timediff->i != 0){
	echo $timediff->format('%i minute')."<br/>";
}
echo "<br>";
echo $timediff->format('%y year %m month %d days %h hour %i minute %s second')."<br/>";
echo $timediff->format('%i minute')."<br/>";

?>

<!-- How to use ajax request -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <h1>Show Form</h1>
    <form action="{{ route('saveform') }}" method="post" id="myform">
        <label for="">Name</label>
        <input type="text" name="name" id="name_val"> 
        <span id="errone" style="color:red;"></span> <br> <br>
        <label for="">Email</label>
        <input type="text" name="email" id="email"> 
        <div id="errtwo"></div><br> <br>
        <input type="submit" value="Submit" id="subform">
    </form>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script>
    var subform = document.getElementById("subform");
    var myform = document.getElementById("myform");
    var errone = document.getElementById("errone");
    var errtwo = document.getElementById("errtwo");
    subform.addEventListener("click",(e)=>{
        e.preventDefault();
    var email = document.getElementById("email");
    var name_val = document.getElementById("name_val");
        console.log("you are in")
        if(name_val.value == ""){
            errone.innerHTML = "Fill the name field";
            return false;
        }
        // else{
        //     console.log(name_val.value);
        //     return false;
        // }
        if(email.value == ""){
            errtwo.innerHTML = "Fill the email field";
            return false;
        }
        var name_val = name_val.value;
        var email = email.value;
        console.log(name_val)
        data = {
            name_val:name_val,
            email:email,
            _token:'{{csrf_token()}}'
        }
        console.log(data);
        $.post("{{ route('saveform') }}",data, (res)=>{
            console.log(res);
        })
        

        // myform.submit();
    })

</script>   
    
</body>
</html>

<!-- How to use ajax request end -->

//checkbox multi-updation

Blade file -->

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <title>Hello, world!</title>
  </head>
  <body>
    <h1>Hello, world!</h1>

<div class="container mb-5">
    <div class="flash-message">
        @foreach (['danger', 'warning', 'success', 'info'] as $msg)
          @if(Session::has('alert-' . $msg))
    
          <p class="alert alert-{{ $msg }}">{{ Session::get('alert-' . $msg) }} <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a></p>
          @endif
        @endforeach
      </div>
    <form action="{{ route('multi-record-updated') }}" method="post">
        @csrf
    <p><input type='submit' value='Update Selected Records' class="btn btn-success" name='but_update'></p>
    <table class="table table-striped table-dark">
        <thead>
          <tr>
              <th>Sr. No.</th>
            <th scope="col">
                <input type="checkbox" id="checkAll">
            </th>
            <th scope="col">Name</th>
            <th scope="col">Email</th>
          </tr>
        </thead>
        <tbody> 
            @php
                $i = 1;
            @endphp
            @foreach ($students as $item)
            <tr>
                <th>{{ $i++ }}</th>
                <th scope="row">
                    <input type="checkbox" name="update[]" value="{{ $item->id }}">
                </th>
                <td>
                    <input type="text" name="name_{{$item->id}}" value="{{$item->name}}">
                </td>
                <td>
                    <input type="text" name="email_{{$item->id}}" value="{{$item->email}}">
                    
                </td>
              </tr>
            @endforeach
         
          
        </tbody>
      </table>
    </form>
    </div>


    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script>
        $(document).ready(()=>{
            $("#checkAll").change(function(){
                if($(this).is(':checked')){
                        $('input[name="update[]"]').prop('checked',true);
                    }else{
                        $('input[name="update[]"]').each(function(){
                            $(this).prop('checked',false);
                        }); 
                    }
            });

            $('input[name="update[]"]').click(function(){
                var total_checkboxes = $('input[name="update[]"]').length;
                console.log(total_checkboxes);
                var total_checkboxes_checked = $('input[name="update[]"]:checked').length;
                console.log(total_checkboxes_checked);

                if(total_checkboxes_checked == total_checkboxes){
                        $('#checkAll').prop('checked',true);
                    }else{
                        $('#checkAll').prop('checked',false);
                    }
            })
        });
    </script>
    
  </body>
</html>

Controller -->

public function records(){
        // dd("delete multiple");
        $students = Student::all();
        return view('multi-edit-data',['students'=>$students]);
    }

    public function multirecordupdated(Request $request){
        // dd("multi record");
        // dd($request->all());
        
        if($request->has('update')){
            // dd("update available");
            $inputs = $request->all();
            foreach($inputs["update"] as $updateid){
                $name = $inputs["name_".$updateid];
                // echo $name;
                // echo "<br>";
                if($name != ""){
                    $student = Student::find($updateid);
                    $student->name = $name;
                    $student->save();
                }
            }
            // dd("no more");
            $request->session()->flash('alert-success', 'User was successful added!');
        }else{
            // dd("no available");
            $request->session()->flash('alert-warning', 'Nothing to update!');
        }
       
        return redirect()->back();
    }


//To make moving dropdown

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body style="background:black;">

	<h1>Testing Two</h1>
	<div style="text-align: center;">
	<select name="" id="" style="width:5rem; height: 2rem; background: red; font-weight: bold; color:white; cursor: pointer;">
		<option value="" id="op_one">One</option>
		<option value="" id="op_two" selected="selected" name="one">Two</option>
		<option value="" id="op_three">Three</option>
		<option value="" id="op_four">Four</option>
	</select>
	</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script>
		$(document).ready(function(){
			setInterval(function(){
                var op_one = document.getElementById("op_one");
                var op_two = document.getElementById("op_two");
                var op_three = document.getElementById("op_three");
                var op_four = document.getElementById("op_four");
                // console.log(op_two);
                var check_one = op_one.hasAttribute("selected");
                var check_two = op_two.hasAttribute("selected");
                var check_three = op_three.hasAttribute("selected");
                var check_four = op_four.hasAttribute("selected");
                // console.log(check);
                if(check_one){
                	$("#op_two").attr("selected","selected");
                     $("#op_one").removeAttr("selected");
                }
                if(check_two){
                	$("#op_three").attr("selected","selected");
                     $("#op_two").removeAttr("selected");
                }
                if(check_three){
                	$("#op_four").attr("selected","selected");
                     $("#op_three").removeAttr("selected");
                }
                if(check_four){
                	$("#op_one").attr("selected","selected");
                     $("#op_four").removeAttr("selected");
                }
			}, 2000)
		})
	</script>
	
</body>
</html>



